<%-- DO NOT EDIT - GENERATED BY AgileSites
--%><%@ taglib prefix="cs" uri="futuretense_cs/ftcs1_0.tld"
%><%@ taglib prefix="ics" uri="futuretense_cs/ics.tld"
%><%@ taglib prefix="asset" uri="futuretense_cs/asset.tld"
%><cs:ftcs><%
String jar = ics.GetVar("jar");
if(jar!=null) {
  byte[] bytes =
    org.apache.commons.io.IOUtils.toByteArray(
       application.getResourceAsStream(jar));
%><%= new String(org.apache.commons.codec.binary.Base64.encodeBase64(bytes)) %><%
} else {
%>{"info":[<%
String[] types = new String[]{ "CSElement", "SiteEntry" };
for(String type: types) {
%>
<asset:list type='<%=type%>'  list='<%=type%>'/>
<ics:listloop listname='<%=type%>'>
    <ics:listget listname='<%=type%>' fieldname="name" output="name"/>
    <ics:listget listname='<%=type%>' fieldname="id" output="id"/>
<%
    String name = ics.GetVar("name");
    String id = ics.GetVar("id");
    if(name.startsWith("AAAgile")) {
%>{ "type": "<%= type%>",
    "name": "<%= name%>" ,
    "id": "<%= id%>"
},<% } %>
</ics:listloop>
<% } %>{
    "type": "Info",
    "name": "sites.version",
    "id": "<%= ics.GetProperty("ft.version") %>"
},{
   "type": "Info",
   "name": "agilesites.version",
   "id": "299001"
}]}
<% } %>
</cs:ftcs>